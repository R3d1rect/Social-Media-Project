<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="just a trial social platform "/>
    <title>Echo | HomePage</title>
    <link rel="shortcut icon" href="" type="image/x-icon" />
    <link
      rel="stylesheet"
      href="./node_modules/bootstrap/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="./node_modules/bootstrap-icons/font/bootstrap-icons.min.css"
    />
    <link ref="stylesheet" href="./css/font.css" />
    <!-- <link rel="stylesheet" href="./css/main.css" /> -->
    <style>
      #post-user-image:hover,.slider{cursor:pointer}body{font-family:Poppins,sans-serif;background-color:#f0f2f5}.switch{display:block;--width-of-switch:3.5em;--height-of-switch:2em;--size-of-icon:1.4em;--slider-offset:0.3em;position:relative;width:var(--width-of-switch);height:var(--height-of-switch)}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;top:0;left:0;right:0;bottom:0;background-color:#dedede;transition:.4s;border-radius:30px}.loader,.slider:before{top:50%;position:absolute}.slider:before{content:"";height:var(--size-of-icon,1.4em);width:var(--size-of-icon,1.4em);border-radius:20px;left:var(--slider-offset,.3em);transform:translateY(-50%);background:linear-gradient(40deg,#ff0080,#ff8c00 70%);transition:.4s}input:checked+.slider{background-color:#303136}input:checked+.slider:before{left:calc(100% - (var(--size-of-icon,1.4em) + var(--slider-offset,.3em)));background:#303136;box-shadow:inset -3px -2px 5px -2px #8983f7,inset -10px -4px 0 0 #a3dafb}#main-loader{width:100%;height:100vh;background-color:#1b1f22;z-index:1111111111;position:fixed}.loader{left:50%;z-index:10;width:160px;height:100px;margin-left:-80px;margin-top:-50px;border-radius:5px;background:#1e3f57;animation:3s cubic-bezier(.55,.3,.24,.99) infinite dot1_}.loader:nth-child(2){z-index:11;width:150px;height:90px;margin-top:-45px;margin-left:-75px;border-radius:3px;background:#3c517d;animation-name:dot2_}.loader:nth-child(3){z-index:12;width:40px;height:20px;margin-top:50px;margin-left:-20px;border-radius:0 0 5px 5px;background:#6bb2cd;animation-name:dot3_}@keyframes dot1_{3%,97%{width:160px;height:100px;margin-top:-50px;margin-left:-80px}30%,36%{width:80px;height:120px;margin-top:-60px;margin-left:-40px}63%,69%{width:40px;height:80px;margin-top:-40px;margin-left:-20px}}@keyframes dot2_{3%,97%{height:90px;width:150px;margin-left:-75px;margin-top:-45px}30%,36%{width:70px;height:96px;margin-left:-35px;margin-top:-48px}63%,69%{width:32px;height:60px;margin-left:-16px;margin-top:-30px}}@keyframes dot3_{3%,97%{height:20px;width:40px;margin-left:-20px;margin-top:50px}30%,36%{width:8px;height:8px;margin-left:-5px;margin-top:49px;border-radius:8px}63%,69%{width:16px;height:4px;margin-left:-8px;margin-top:-37px;border-radius:10px}}.lds-roller{display:inline-block;position:relative;width:80px;height:80px}.lds-roller div{animation:1.2s cubic-bezier(.5,0,.5,1) infinite lds-roller;transform-origin:40px 40px}.lds-roller div:after{content:" ";display:block;position:absolute;width:7px;height:7px;border-radius:50%;background:#fff;margin:-4px 0 0 -4px}.lds-roller div:first-child{animation-delay:-36ms}.lds-roller div:first-child:after{top:63px;left:63px}.lds-roller div:nth-child(2){animation-delay:-72ms}.lds-roller div:nth-child(2):after{top:68px;left:56px}.lds-roller div:nth-child(3){animation-delay:-108ms}.lds-roller div:nth-child(3):after{top:71px;left:48px}.lds-roller div:nth-child(4){animation-delay:-144ms}.lds-roller div:nth-child(4):after{top:72px;left:40px}.lds-roller div:nth-child(5){animation-delay:-.18s}.lds-roller div:nth-child(5):after{top:71px;left:32px}.lds-roller div:nth-child(6){animation-delay:-216ms}.lds-roller div:nth-child(6):after{top:68px;left:24px}.lds-roller div:nth-child(7){animation-delay:-252ms}.lds-roller div:nth-child(7):after{top:63px;left:17px}.lds-roller div:nth-child(8){animation-delay:-288ms}.lds-roller div:nth-child(8):after{top:56px;left:12px}@keyframes lds-roller{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.preloader{background-color:grey;width:100px;height:100px;position:fixed;top:0;bottom:0;right:0;left:0;margin:auto;z-index:9999;border-radius:22.5px;display:flex;align-items:center;justify-content:center;opacity:.5;visibility:hidden}.drk-input,.drk-input:focus{background-color:#242526;border-color:transparent;color:#fff}.logo>a,.logo>a:visited{text-decoration:none;color:#000}.temp-pp{width:40px;height:40px;border-radius:50%;margin-right:6px}.comments-bdy{min-height:400px}#post-user-name:hover,#user-username:hover{text-decoration:underline;cursor:pointer}.drk-input{box-shadow:0 .125rem .25rem rgba(0,0,0,.075)}.drk-input::placeholder{color:#fff}
    </style>
  </head>

  <body>
    <!-- ===== ALERT ===== -->
      <div
      style="position: fixed; right: 30px; bottom: 0; z-index: 111111111999"
      id="liveAlertPlaceholder"
    ></div>
    <!-- =====// ALERT //===== -->
    
    <!-- MAIN LOADER FOR PAGES -->
     <div id="main-loader">
      <div class="loader"></div>
      <div class="loader"></div>
      <div class="loader"></div>
    </div> 
    <!-- SUB LOADER -->
    <div class="preloader" id="preloader">
      <div class="lds-roller">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>


    <!-- ===== ALL MODALS ===== -->
    <!-- SIGN IN MODAL -->
    <div
      class="modal fade"
      id="sgnin-modal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-4 fw-bold" id="exampleModalLabel">
              Login
            </h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body m-auto text-center w-75">
            <label>Username</label>
            <br />
            <input class="mb-3 form-control" type="text" id="lgn-username" />
            <br />
            <label>Password</label>
            <br />
            <input class="form-control" type="text" id="lgn-password" />
          </div>
          <div class="modal-footer m-auto">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
            <button type="button" class="btn btn-primary" id="log-me-in">
              Login
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- REGISTER MODAL -->
    <div
      class="modal fade"
      id="reg-modal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-4 fw-bold" id="exampleModalLabel">
              Register
            </h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body m-auto text-left w-75">
            <div class="input mb-2">
              <span>Profile Picture</span>
              <input class="form-control" id="reg-image" type="file" />
            </div>
            <div class="input">
              <span>Username</span>
              <input class="form-control" id="reg-user" type="text" />
            </div>
            <div class="input">
              <span>Password</span>
              <input class="form-control" id="reg-password" type="password" />
            </div>
            <div class="input">
              <span>Name</span>
              <input class="form-control" id="reg-name" type="text" />
            </div>
          </div>
          <div class="modal-footer m-auto">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
            <button id="reg-user" type="button" class="btn btn-primary" onclick="registerUser()">
              Register
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- COMMENTS MODAL -->
    <div
      class="modal fade"
      id="comments"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content" id="comments-color">
          <div class="modal-header">
            <input type="text" hidden id="comment-post-id" />
            <h1 class="modal-title fs-5" id="exampleModalLabel">Comments</h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div
            id="all-comments"
            class="modal-body comments-bdy position-relative"
          ></div>
          <div class="modal-footer d-flex flex-nowrap">
            <input
              class="form-control border-0"
              type="text"
              placeholder="leave your comment...."
              style="width: 87%"
              id="comment-body"
            />
            <button class="btn btn-primary" onclick="addNewComment()">
              <i class="bi bi-send"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- NEW POST MODAL -->
    <div
      class="modal fade"
      id="create-post-modal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-4 fw-bold" id="exampleModalLabel">
              Create a New Post
            </h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body m-auto text-left w-75">
            <label>title</label>
            <br />
            <input
              class="form-control mb-2"
              type="text"
              id="create-post-title"
            />
            <label>body</label>
            <br />
            <textarea
              class="w-100 form-control"
              id="create-post-body"
              style="height: 100px; resize: none"
            ></textarea>
            <label>Post Image</label>
            <input type="file" class="form-control" id="create-post-image" />
          </div>
          <div class="modal-footer m-auto">
            <button
              type="button"
              class="btn btn-primary"
              id="create-new-post"
              onclick="addNewPost()"
            >
              Post
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- EDIT POST MODAL -->
    <div
      class="modal fade"
      id="edit-post-modal"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
      tabindex="-1"
      aria-labelledby="staticBackdropLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="staticBackdropLabel">Edit</h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body p-5">
            <div class="w-100 mb-3">
              <span>Image:</span>
              <input class="form-control" type="file" id="edit-post-image" />
            </div>
            <div class="w-100 mb-3">
              <span>Title:</span>
              <input class="form-control" type="text" id="edit-post-title" />
            </div>
            <div class="w-100">
              <span>Body:</span>
              <input class="form-control" type="text" id="edit-post-body" />
            </div>
          </div>
          <div class="modal-footer justify-content-center">
            <input hidden type="text" id="edit-post-id" />
            <button
              type="button"
              class="btn btn-primary"
              onclick="updatePost()"
            >
              Update
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- DELETE POST MODAL -->
    <div
      class="modal fade"
      id="delete-post-modal"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
      tabindex="-1"
      aria-labelledby="staticBackdropLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="staticBackdropLabel">
              Delete Post
            </h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body text-center">
            Are you sure you want to delete this post
          </div>
          <div class="modal-footer justify-content-center">
            <input hidden type="text" id="delete-post-id" />
            <button
              type="button"
              class="btn btn-danger"
              onclick="deleteConfirmed()"
            >
              Yes
            </button>
            <button
              type="button"
              class="btn btn-primary"
              data-bs-dismiss="modal"
            >
              No
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- =====// ALL MODALS //===== -->

    <!-- ===== NAVBAR ===== -->
    <div class="container">
      <div class="col-11 col-md-10 col-lg-7 m-auto shadow rounded" id="nav-bar">
        <nav class="navbar navbar-expand-lg p-2 rounded w-100">
          <div class="container-fluid">
            <span class="navbar-brand logo fw-bolder" style="cursor: pointer"
              ><a href="index.html" class="nav-txt-color">Echo</a></span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNav"
              aria-controls="navbarNav"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div
              class="collapse navbar-collapse justify-content-around"
              id="navbarNav"
            >
              <ul class="navbar-nav w-50 d-flex align-items-start align-items-lg-center">
                <li class="nav-item nav-txt-color">
                  <a
                    class="nav-link active nav-txt-color"
                    aria-current="page"
                    href="index.html"
                    >Home</a
                  >
                </li>
                <li class="nav-item" style="cursor: pointer;">
                  <a id="my-profile" class="nav-link nav-txt-color" onclick="viewMyProfile()" style="cursor:pointer;"
                    >My Profile</a
                  >
                </li>

              </ul>
              <div class="authn text-nowrap d-flex justify-content-start w-50 justify-content-lg-end mb-3 mt-1 mb-lg-0 mt-lg-0 me-lg-2" id="guest">
                <button
                  id="lgn-btn"
                  class="btn btn-sm btn-outline-success me-2"
                  data-bs-toggle="modal"
                  data-bs-target="#sgnin-modal"
                >
                  Sign In
                </button>
                <button
                  id="reg-btn"
                  class="btn btn-sm btn-outline-success me-1"
                  data-bs-toggle="modal"
                  data-bs-target="#reg-modal"
                >
                  Register
                </button>
              </div>
              <div id="nav-user" class="d-flex align-items-center mb-3 mt-1 mb-lg-0 mt-lg-0 me-lg-2">
                <a onclick="viewMyProfile()">
                  <img
                    id="user-pic"
                    src="imgs/nobody.png"
                    style="
                      width: 40px;
                      height: 40px;
                      border-radius: 50%;
                      cursor: pointer;
                    "
                    class="me-2"
                  />
                </a>

                <b
                  class="fs-7 me-3 nav-txt-color"
                  id="user-username"
                  style="cursor: pointer"
                  onclick="viewMyProfile()"
                  >@username</b
                >
                <button id="lg-out-btn" class="btn btn-outline-danger btn-sm">
                  Logout
                </button>
              </div>
              <label class="switch">
                <input type="checkbox" id="dark-mode">
                <span class="slider shadow"></span>
            </label>
            </div>
          </div>
        </nav>
      </div>
    </div>
    <!-- =====// NAVBAR //===== -->

    <!-- ===== MAIN CONTENT ===== -->
    <div class="container">
      <div id="posts-container" class="posts col-11 col-md-10 col-lg-7 m-auto mt-5 mb-5">
        <!-- <div class="post">
          <div class="card">
            <div class="card-header post-header">
              <img id="post-user-image" class="temp-pp" src="imgs/nobody.png" />
              <b id="post-user-name" class="temp-user fs-5">@medo</b>
            </div>
            <div class="card-body post-bdy">
              <img
                id="post-main-image"
                class="w-100"
                src="/imgs/bg-pattern.png"
              />
              <div class="post-text mt-4">
                <b class="fs-3">Hello World</b>
                <p class="mt-3">
                  Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam
                  pariatur id nam. Ex fuga delectus, maxime nisi architecto nemo
                  quis!
                </p>
                <hr />
                <i class="bi bi-chat-dots"></i>
                <span>(3) Comments</span>
              </div>
            </div>
          </div>
        </div> -->
      </div>
    </div>
    <!-- =====// MAIN CONTENT //===== -->

    <div class="add-post" id="add-new-post">
      <button
        class="btn btn-primary position-fixed fs-1 fw-bold "
        style="
          bottom: 40px;
          right: 30px;
          border-radius: 50%;
          width: 70px;
          height: 70px;
        "
        data-bs-toggle="modal"
        data-bs-target="#create-post-modal"
      >
        +
      </button>
    </div>

    <script src="./node_modules/axios/dist/axios.min.js"></script>
    <script src="./node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./js/mainmin.js"></script>
  </body>
</html>
